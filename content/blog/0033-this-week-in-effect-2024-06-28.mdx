---
title: This Week in Effect - 2024-06-28
excerpt: Effect 3.4 & Schema 0.68.0 release. 'Discriminated Unions in TypeScript, Effect, and ArkType' by David Blass. Michael Arnaldi joining the London Node.js group
date: 2024-06-28
authors:
  - name: Davide Scognamiglio
    description: Project Manager
    avatar: https://pbs.twimg.com/profile_images/1329959878476111875/evHG8VX6_400x400.jpg
    twitter: https://twitter.com/DadeSkoTV
  - name: Mirela Prifti
    description: Community Manager
    avatar: https://pbs.twimg.com/profile_images/1728403785024770048/frKphayT_400x400.jpg
    twitter: https://twitter.com/mirepri4
  - name: Michael Arnaldi
    description: Chief Executive Officer
    avatar: https://pbs.twimg.com/profile_images/1232338149340319751/Ln9nNWyk_400x400.jpg
    twitter: https://twitter.com/MichaelArnaldi
relatedPosts:
  - this-week-in-effect-2024-06-21
---

Hi Effecters! 

Welcome back to This Week In Effect (**TWIE**), a weekly update to keep you in the loop with all the latest developments in the Effect community and ecosystem.

Effect is a powerful TypeScript library designed to help developers create complex, synchronous, and asynchronous programs. One of the key features that sets Effect apart is how it leverages structured concurrency to provide features such as async cancellation and safe resource management, making it easier to build robust, scalable, and efficient programs.

To get started with Effect, explore our quick-start guide and documentation below.

- [Effect quick-start guide](/docs/quickstart)
- [Effect docs](/docs/introduction)

We want to make it easy for you to find everything you need to fully enjoy your Effect journey and actively engage with the community! In this blog post series, you'll find all the significant developments from the previous week, such as Discord discussions, noteworthy posts, YouTube content, and technical advancements.

**Recent major updates**

- Effect is now API stable with the [Effect 3.0 release](https://effect.website/blog/effect-3.0).
- [Effect 3.4](https://effect.website/blog/effect-3.3) has been released.
- Our community on Discord reached **3060+ members**!
- New Effect Days talks every week on the [Effect YouTube channel](https://www.youtube.com/@effect-ts).


## Technology

Here are all the technical changes that occurred last week.

### Effect Core
+ [Enhance JSDocs for error tapping APIs with examples](https://github.com/Effect-TS/effect/pull/3054) (Documentation Update)
+ [Add missing TypeLambda to Micro module](https://github.com/Effect-TS/effect/pull/3056) (Feature)
+ [Reuse centralized do-notation code in Micro module](https://github.com/Effect-TS/effect/pull/3062) (Refactor)
+ [Update to typescript 5.5](https://github.com/Effect-TS/effect/pull/3079) (Optimization)
+ [Align the Micro.catchIf signature with Effect.catchIf](https://github.com/Effect-TS/effect/pull/3082) (Refactor)
+ [Support unification for Micro module](https://github.com/Effect-TS/effect/pull/3078) (Feature)
+ [Support this argument for Micro.gen](https://github.com/Effect-TS/effect/pull/3065) (Feature)
+ [Cleanup signal "abort" event handler in Micro.runFork](https://github.com/Effect-TS/effect/pull/3067) (Bug Fix)
+ [Micro: add zipWith](https://github.com/Effect-TS/effect/pull/3085) (Feature)
+ [Micro: update fromOption to change the failure type to NoSuchElementException](https://github.com/Effect-TS/effect/pull/3083) (Improvement)
+ [Remove global AbortController from Micro](https://github.com/Effect-TS/effect/pull/3095) (Bug Fix)
+ [Fix using unions with Match.withReturnType](https://github.com/Effect-TS/effect/pull/3099) (Bug Fix)
+ [Feat: add Config.Config.Success](https://github.com/Effect-TS/effect/pull/3047) (Feature, next-minor)

### Effect Platform
+ [Add HttpMiddleware.cors](https://github.com/Effect-TS/effect/pull/3051) (Feature)
+ [Coerce primitive types in UrlParams input](https://github.com/Effect-TS/effect/pull/3053) (Improvement)
+ [Add Layer based api for creating HttpRouter's](https://github.com/Effect-TS/effect/pull/3059) (Feature)
+ [Platform README: Minor formatting changes](https://github.com/Effect-TS/effect/pull/3061) (Documentation Update)
+ [Add HttpRouter.Tag.unwrap api](https://github.com/Effect-TS/effect/pull/3064) (Feature)
+ [Update to typescript 5.5](https://github.com/Effect-TS/effect/pull/3079) (Optimization)
+ [Docs: remove adapter examples](https://github.com/Effect-TS/effect/pull/3041) (Documentation Update)
+ [Add HttpServerRespondable trait](https://github.com/Effect-TS/effect/pull/3088) (Feature)
+ [Add HttpClientResponse.matchStatus* apis](https://github.com/Effect-TS/effect/pull/3089) (Feature)
+ [Add HttpServerRequest.toURL api](https://github.com/Effect-TS/effect/pull/3090) (Feature)
+ [Add some common services to HttpRouter.Default](https://github.com/Effect-TS/effect/pull/3091) (Feature)
+ [Add mount apis to HttpRouter.Service](https://github.com/Effect-TS/effect/pull/3094) (Feature)
+ [Filter undefined from UrlParams Input](https://github.com/Effect-TS/effect/pull/3102) (Improvement)

### Effect Opentelemetry
+ [Update to typescript 5.5](https://github.com/Effect-TS/effect/pull/3079) (Optimization)
+ [Docs: remove adapter examples](https://github.com/Effect-TS/effect/pull/3041) (Documentation Update)

### Effect Experimental
+ [Update to typescript 5.5](https://github.com/Effect-TS/effect/pull/3079) (Optimization)
+ [Docs: remove adapter examples](https://github.com/Effect-TS/effect/pull/3041) (Documentation Update)

### Effect SQL
+ [Update to typescript 5.5](https://github.com/Effect-TS/effect/pull/3079) (Optimization)
+ [Docs: remove adapter examples](https://github.com/Effect-TS/effect/pull/3041) (Documentation Update)
+ [Feature: add cloudflare @effect/sql-d1 package](https://github.com/Effect-TS/effect/pull/3045) (Feature, next-minor)

### Effect Cluster
+ [Update to typescript 5.5](https://github.com/Effect-TS/effect/pull/3079) (Optimization)
+ [Docs: remove adapter examples](https://github.com/Effect-TS/effect/pull/3041) (Documentation Update)

### Effect Schema
+ [Add make constructor to Class-based APIs](https://github.com/Effect-TS/effect/pull/3043) (Feature)
+ [Fix error message display for composite errors when overwrite = false](https://github.com/Effect-TS/effect/pull/3046) (Bug Fix)
+ [Update README.md with examples of extending schemas](https://github.com/Effect-TS/effect/pull/3050) (Documentation Update)
+ [Add refineTypeId unique symbol to the refine interface to ensure correct inference of Fields in the Class APIs](https://github.com/Effect-TS/effect/pull/3070) (Bug Fix)
+ [Revert the 0.67.22 patch as it is causing issues with other array filters](https://github.com/Effect-TS/effect/pull/3074) (Bug Fix)
+ [Update to typescript 5.5](https://github.com/Effect-TS/effect/pull/3079) (Optimization)
+ [Special case S.parseJson to generate JSON Schemas by targeting the "to" side of transformations](https://github.com/Effect-TS/effect/pull/3087) (Feature)
+ [Generate JSON Schemas correctly for a schema created by extending two refinements using the extend API, ensuring their JSON Schema annotations are preserved.](https://github.com/Effect-TS/effect/pull/3101) (Enhancement)

### Effect CLI
+ [Update to typescript 5.5](https://github.com/Effect-TS/effect/pull/3079) (Optimization)
+ [Docs: remove adapter examples](https://github.com/Effect-TS/effect/pull/3041) (Documentation Update)

### Effect Printer
+ [Update to typescript 5.5](https://github.com/Effect-TS/effect/pull/3079) (Optimization)

### Effect RPC
+ [Update to typescript 5.5](https://github.com/Effect-TS/effect/pull/3079) (Optimization)

### Effect Typeclass
+ [Update to typescript 5.5](https://github.com/Effect-TS/effect/pull/3079) (Optimization)

### Effect Vitest
+ [Update to typescript 5.5](https://github.com/Effect-TS/effect/pull/3079) (Optimization)

### General Chores
+ [Unify CI and Nix to Nodejs v20.12.2](https://github.com/Effect-TS/effect/pull/3076)


## Community highlights

In the last week, we welcomed +60 new Effecters to our [Discord community](https://discord.gg/effect-ts) - we're very excited to have you all on board! 

+ [ecyrbe](https://x.com/ecyrbedev), Tech Lead @ [Zodios](https://www.zodios.org), is adding [Kysely](https://kysely.dev) support for Effect as a DB query builder. Feel free to take a look at the [open PR](https://github.com/Effect-TS/effect/pull/3017) and provide feedback.
<Tweet id="1803552136363380831" />

+ [Michael Arnaldi](https://x.com/MichaelArnaldi) will join the [London Node.js User Group](https://x.com/LNUGorg) next week for a live coding session on Wednesday, June 26 at the Cloudflare offices in Waterloo.
<Tweet id="1798704071161110554" />

+ In his latest guide, [Sandro Maglione](https://x.com/SandroMaglione) solves the challenge of building a robust auth solution based on Effect with all the changes coming with [React 19](https://react.dev/blog/2024/04/25/react-19) and new primitives added to [Next.js](https://nextjs.org). 
<Tweet id="1803829211611746506" />

+ The [Evryg](https://www.evryg.com) team are having their second [Effect Paris Meetup](https://www.meetup.com/effect-paris/#) on **Tuesday, June 25th at 7:00 PM**. As a reminder, the meetup will be in French.

### Content update

+ A new talk from the Effect Days Conference has been released on Monday. 'Discriminated Unions: From principles to practice in TypeScript, Effect, and ArkType' by [David Blass](https://x.com/ssalbdivad). In his presentation, David gave us a deeper understanding of the set theory at the heart of TypeScript and how libraries like Effect and ArkType leverage it to improve static and runtime performance and make your code safer.
<YouTube url="https://www.youtube.com/embed/AaUKLH8N6go?si=v91LFcNDB5w1FcSB" />

+ At the [Local-First Conf](https://www.localfirstconf.com/), [Jess Martin](https://x.com/jessmartin) showed how Effect Schema works with distributed data technologies like [DXOS ECHO](https://dxos.org) and [Automerge](https://automerge.org) to enable a radically better developer and end-user experience.
<YouTube url="https://www.youtube.com/embed/_GBpPp92L2M?si=npy60RNpUkB_tvt6" />

## Closing notes

That's all for this week. Thank you for being a vital part of our community. Your feedback is highly valued as we fine-tune this format. Feel free to share your thoughts, and we'll do our best to tailor it to the needs of our community.

_Effect Community Team_
